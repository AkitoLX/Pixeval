<ui:EnhancedPage x:Class="Pixeval.Pages.IllustrationViewer.IllustrationViewerPage"
                 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                 xmlns:controls="using:CommunityToolkit.WinUI.UI.Controls"
                 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                 xmlns:illustrationViewer="using:Pixeval.Pages.IllustrationViewer"
                 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                 xmlns:ui="using:Pixeval.Util.UI"
                 Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"
                 mc:Ignorable="d">
    <SplitView x:Name="IllustrationInfoAndCommentsSplitView"
               DisplayMode="Overlay">
        <SplitView.Pane>
            <NavigationView BackRequested="IllustrationInfoAndCommentsNavigationView_OnBackRequested"
                            IsBackEnabled="True"
                            IsSettingsVisible="False"
                            PaneDisplayMode="Top"
                            SelectionChanged="IllustrationInfoAndCommentsNavigationView_OnSelectionChanged">
                <NavigationView.MenuItems>
                    <NavigationViewItem x:Uid="/IllustrationViewerPage/IllustrationInfoTab"
                                        IsSelected="True"
                                        Tag="{x:Bind _illustrationInfo}" />
                    <NavigationViewItem x:Uid="/IllustrationViewerPage/CommentsTab"
                                        Tag="{x:Bind _comments}" />
                </NavigationView.MenuItems>
                <Frame x:Name="IllustrationInfoAndCommentsFrame" />
            </NavigationView>
        </SplitView.Pane>
        <controls:DockPanel HorizontalAlignment="Stretch"
                            LastChildFill="True">
            <CommandBar controls:DockPanel.Dock="Top"
                        Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"
                        DefaultLabelPosition="Right">
                <CommandBar.Content>
                    <AppBarButton Width="48"
                                  Click="BackButton_OnClick"
                                  Icon="Back"
                                  LabelPosition="Collapsed" />
                </CommandBar.Content>
                <AppBarButton Click="BookmarkButton_OnClick"
                              Icon="{x:Bind illustrationViewer:IllustrationViewerPage.GetBookmarkButtonIcon(_viewModel.First.IsBookmarked), Mode=OneWay}"
                              Label="{x:Bind illustrationViewer:IllustrationViewerPage.GetBookmarkButtonLabel(_viewModel.First.IsBookmarked), Mode=OneWay}" />
                <AppBarToggleButton x:Uid="/IllustrationViewerPage/IllustrationInfoAndCommentsButton"
                                    Icon="{ui:FontIcon Glyph=InfoE946}"
                                    IsChecked="{x:Bind IllustrationInfoAndCommentsSplitView.IsPaneOpen, Mode=TwoWay}" />
                <AppBarSeparator />
                <AppBarButton Width="32"
                              Click="ZoomInButton_OnClick"
                              LabelPosition="Collapsed">
                    <AppBarButton.Icon>
                        <SymbolIcon Symbol="ZoomIn" />
                    </AppBarButton.Icon>
                </AppBarButton>
                <AppBarButton Width="32"
                              Click="ZoomOutButton_OnClick"
                              LabelPosition="Collapsed">
                    <AppBarButton.Icon>
                        <SymbolIcon Symbol="ZoomOut" />
                    </AppBarButton.Icon>
                </AppBarButton>
                <AppBarButton x:Uid="/IllustrationViewerPage/PlayGifButton"
                              Width="32"
                              Click="PlayGifButton_OnClick"
                              LabelPosition="Collapsed"
                              Visibility="{x:Bind _viewModel.IsUgoira}">
                    <AppBarButton.Icon>
                        <SymbolIcon Symbol="Stop" />
                    </AppBarButton.Icon>
                </AppBarButton>
                <AppBarSeparator />
                <AppBarButton x:Uid="/IllustrationViewerPage/CopyContentButton"
                              Command="{x:Bind _copyCommand}"
                              Icon="{ui:FontIcon Glyph=CopyE8C8}" />
                <AppBarButton x:Uid="/IllustrationViewerPage/SaveCurrentImageButton"
                              Click="SaveCurrentImageButton_OnClick"
                              Icon="{ui:FontIcon Glyph=SaveE74E}" />
                <AppBarButton x:Uid="/IllustrationViewerPage/SaveAsCurrentImageButton"
                              Click="SaveAsCurrentImageButton_OnClick"
                              Icon="{ui:FontIcon Glyph=SaveAsE792}" />
                <AppBarButton x:Uid="/IllustrationViewerPage/SaveMangaButton"
                              Click="SaveMangaButton_OnClick"
                              Icon="{ui:FontIcon Glyph=SaveCopyEA35}"
                              Visibility="{x:Bind _viewModel.IsManga}" />
                <AppBarButton x:Uid="/IllustrationViewerPage/SaveMangaAsButton"
                              Click="SaveMangaAsButton_OnClick"
                              Icon="{ui:FontIcon Glyph=SaveAsE792}"
                              Visibility="{x:Bind _viewModel.IsManga}" />
                <AppBarSeparator />
                <AppBarButton x:Name="GenerateLinkToThisPageButton"
                              x:Uid="/IllustrationViewerPage/GenerateLinkToThisPageButton"
                              Click="GenerateLinkToThisPageButton_OnClick"
                              Icon="{ui:FontIcon Glyph=LinkE71B}" />
                <AppBarButton x:Uid="/IllustrationViewerPage/GenerateWebLinkButton"
                              Click="GenerateWebLinkButton_OnClick"
                              Icon="{ui:FontIcon Glyph=PreviewLinkE8A1}" />
                <AppBarButton x:Uid="/IllustrationViewerPage/OpenInWebBrowserButton"
                              Click="OpenInWebBrowserButton_OnClick"
                              Icon="{ui:FontIcon Glyph=WebSearchF6FA}" />
                <AppBarButton x:Uid="/IllustrationViewerPage/ShareButton"
                              Click="ShareButton_OnClick"
                              Icon="{ui:FontIcon Glyph=ShareE72D}" />
            </CommandBar>
            <TeachingTip x:Name="GenerateLinkToThisPageButtonTeachingTip"
                         x:Uid="/IllustrationViewerPage/GenerateLinkToThisPageButtonTeachingTip"
                         ActionButtonClick="GenerateLinkToThisPageButtonTeachingTip_OnActionButtonClick"
                         Target="{x:Bind GenerateLinkToThisPageButton}">
                <TeachingTip.HeroContent>
                    <Image Source="../../Assets/Images/illust-app-link-sample.png" />
                </TeachingTip.HeroContent>
            </TeachingTip>
            <Grid Width="48"
                  controls:DockPanel.Dock="Left">
                <AppBarButton Width="40"
                              HorizontalAlignment="Center"
                              VerticalAlignment="Center"
                              Click="PrevImageAppBarButton_OnClick"
                              Icon="{ui:FontIcon Glyph=CheveronLeft20F743}"
                              LabelPosition="Collapsed"
                              Visibility="{x:Bind CalculatePrevImageButtonVisibility(_viewModel.CurrentIndex), Mode=OneWay}" />

            </Grid>
            <Grid Width="48"
                  controls:DockPanel.Dock="Right">
                <AppBarButton Width="40"
                              HorizontalAlignment="Center"
                              VerticalAlignment="Center"
                              Click="NextImageAppBarButton_OnClick"
                              Icon="{ui:FontIcon Glyph=CheveronRight20F745}"
                              LabelPosition="Collapsed"
                              Visibility="{x:Bind CalculateNextImageButtonVisibility(_viewModel.CurrentIndex), Mode=OneWay}" />
            </Grid>
            <Grid Height="30"
                  controls:DockPanel.Dock="Bottom" />
            <Frame x:Name="IllustrationImageShowcaseFrame" />
        </controls:DockPanel>
    </SplitView>
</ui:EnhancedPage>
