<ui:EnhancedPage x:Class="Pixeval.Pages.IllustrationViewer.IllustrationViewerPage"
                 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                 xmlns:controls="using:CommunityToolkit.WinUI.UI.Controls"
                 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                 xmlns:ui="using:Pixeval.Util.UI"
                 Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"
                 mc:Ignorable="d">
    <SplitView x:Name="IllustrationInfoAndCommentsSplitView"
               DisplayMode="Overlay">
        <SplitView.Pane>
            <NavigationView BackRequested="IllustrationInfoAndCommentsNavigationView_OnBackRequested"
                            IsBackEnabled="True"
                            IsSettingsVisible="False"
                            PaneDisplayMode="Top"
                            SelectionChanged="IllustrationInfoAndCommentsNavigationView_OnSelectionChanged">
                <NavigationView.MenuItems>
                    <NavigationViewItem x:Uid="/IllustrationViewerPage/IllustrationInfoTab"
                                        IsSelected="True"
                                        Tag="{x:Bind _illustrationInfo}" />
                    <NavigationViewItem x:Uid="/IllustrationViewerPage/CommentsTab"
                                        Tag="{x:Bind _comments}" />
                </NavigationView.MenuItems>
                <Frame x:Name="IllustrationInfoAndCommentsFrame" />
            </NavigationView>
        </SplitView.Pane>
        <controls:DockPanel HorizontalAlignment="Stretch"
                            LastChildFill="True">
            <CommandBar controls:DockPanel.Dock="Top"
                        Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"
                        DefaultLabelPosition="Right">
                <CommandBar.Content>
                    <AppBarButton Width="48"
                                  Icon="Back"
                                  LabelPosition="Collapsed"
                                  Tapped="BackButton_OnTapped" />
                </CommandBar.Content>
                <AppBarToggleButton x:Uid="/IllustrationViewerPage/IllustrationInfoAndCommentsButton"
                                    Icon="{ui:FontIcon Glyph=InfoE946}"
                                    IsChecked="{x:Bind IllustrationInfoAndCommentsSplitView.IsPaneOpen, Mode=TwoWay}" />
                <AppBarButton x:Uid="/IllustrationViewerPage/PlayGifButton"
                              Icon="{ui:FontIcon Glyph=StopE71A}"
                              Tapped="PlayGifButton_OnTapped"
                              Visibility="{x:Bind _viewModel.IsUgoira}" />
                <AppBarSeparator />
                <AppBarButton x:Uid="/IllustrationViewerPage/CopyContentButton"
                              Command="{x:Bind _viewModel.CopyCommand}"
                              Icon="{ui:FontIcon Glyph=CopyE8C8}" />
                <AppBarButton x:Uid="/IllustrationViewerPage/SaveAsCurrentImageButton"
                              Icon="{ui:FontIcon Glyph=SaveAsE792}"
                              Tapped="SaveAsCurrentImageButton_OnTapped" />
                <AppBarButton x:Uid="/IllustrationViewerPage/SaveMangaButton"
                              Icon="{ui:FontIcon Glyph=SaveCopyEA35}"
                              Tapped="SaveMangaButton_OnTapped"
                              Visibility="{x:Bind _viewModel.IsManga}" />
                <AppBarButton x:Uid="/IllustrationViewerPage/SaveMangaAsButton"
                              Icon="{ui:FontIcon Glyph=SaveAsE792}"
                              Tapped="SaveMangaAsButton_OnTapped"
                              Visibility="{x:Bind _viewModel.IsManga}" />
                <AppBarSeparator />
                <AppBarButton x:Name="GenerateLinkToThisPageButton"
                              x:Uid="/IllustrationViewerPage/GenerateLinkToThisPageButton"
                              Icon="{ui:FontIcon Glyph=LinkE71B}"
                              Tapped="GenerateLinkToThisPageButton_OnTapped" />
                <AppBarButton x:Uid="/IllustrationViewerPage/GenerateWebLinkButton"
                              Icon="{ui:FontIcon Glyph=PreviewLinkE8A1}"
                              Tapped="GenerateWebLinkButton_OnTapped" />
                <AppBarButton x:Uid="/IllustrationViewerPage/OpenInWebBrowserButton"
                              Icon="{ui:FontIcon Glyph=WebSearchF6FA}"
                              Tapped="OpenInWebBrowserButton_OnTapped" />
                <AppBarButton x:Uid="/IllustrationViewerPage/ShareButton"
                              Icon="{ui:FontIcon Glyph=ShareE72D}"
                              Tapped="ShareButton_OnTapped" />
            </CommandBar>
            <TeachingTip x:Name="GenerateLinkToThisPageButtonTeachingTip"
                         x:Uid="/IllustrationViewerPage/GenerateLinkToThisPageButtonTeachingTip"
                         ActionButtonClick="GenerateLinkToThisPageButtonTeachingTip_OnActionButtonClick"
                         Target="{x:Bind GenerateLinkToThisPageButton}">
                <TeachingTip.HeroContent>
                    <Image Source="../../Assets/Images/illust-app-link-sample.png" />
                </TeachingTip.HeroContent>
            </TeachingTip>
            <Grid Width="48"
                  controls:DockPanel.Dock="Left">
                <AppBarButton Width="40"
                              HorizontalAlignment="Center"
                              VerticalAlignment="Center"
                              Icon="{ui:FontIcon Glyph=CheveronLeft20F743}"
                              LabelPosition="Collapsed"
                              Tapped="PrevImageAppBarButton_OnTapped"
                              Visibility="{x:Bind CalculatePrevImageButtonVisibility(_viewModel.CurrentIndex), Mode=OneWay}" />
                <AppBarButton Width="40"
                              HorizontalAlignment="Center"
                              VerticalAlignment="Center"
                              Icon="{ui:FontIcon Glyph=CheveronLeft20F743}"
                              LabelPosition="Collapsed"
                              Tapped="PrevIllustrationAppBarButton_OnTapped"
                              Visibility="{x:Bind CalculatePrevIllustrationButtonVisibility(_viewModel.CurrentIndex), Mode=OneWay}" />
            </Grid>
            <Grid Width="48"
                  controls:DockPanel.Dock="Right">
                <AppBarButton Width="40"
                              HorizontalAlignment="Center"
                              VerticalAlignment="Center"
                              Icon="{ui:FontIcon Glyph=CheveronRight20F745}"
                              LabelPosition="Collapsed"
                              Tapped="NextImageAppBarButton_OnTapped"
                              Visibility="{x:Bind CalculateNextImageButtonVisibility(_viewModel.CurrentIndex), Mode=OneWay}" />
                <AppBarButton Width="40"
                              HorizontalAlignment="Center"
                              VerticalAlignment="Center"
                              Icon="{ui:FontIcon Glyph=CheveronRight20F745}"
                              LabelPosition="Collapsed"
                              Tapped="NextIllustrationAppBarButton_OnTapped"
                              Visibility="{x:Bind CalculateNextIllustrationButtonVisibility(_viewModel.CurrentIndex), Mode=OneWay}" />
            </Grid>
            <Grid Height="30"
                  controls:DockPanel.Dock="Bottom" />
            <Frame x:Name="IllustrationImageShowcaseFrame" />
        </controls:DockPanel>
    </SplitView>
</ui:EnhancedPage>
